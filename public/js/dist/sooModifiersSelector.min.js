window.mooPopUp={init:function(){},open:function(title,content){var header='<div class="mooModalHeader">';header+="<div><h4>"+title+"</h4></div>";header+='<span class="icon-close" onclick="window.mooPopUp.close()">X</span>';header+="</div>";modal='<div id="mooModalWindow">';modal+='<div id="mooModal">';modal+=header;modal+='<div class="mooModalContent">';modal+="<div>"+content+"</div>";modal+="</div>";modal+="</div>";modal+="</div>";this.close();jQuery("body").addClass("mooModalBlurBackground");jQuery("body").append(modal)},close:function(){jQuery("#mooModalWindow").remove();jQuery("body").removeClass("mooModalBlurBackground")}};function mooBuildModifiersPanel(data,item_id,qty,settings){var defaultSettings={inlineDisplay:false,qtyForAll:true,qtyForZeroPrice:true,minimized:false,primaryColor:"#0097e6",secondaryColor:"#fff"};var use_mfp=true;if(settings===undefined||settings===null){settings=defaultSettings}var nb_modifiers=data.length;var required_modifiers="";var html="";if(typeof settings.inlineDisplay!=="undefined"&&settings.inlineDisplay===true){html+='<div tabindex="-1" aria-label="Choose options dialog" aria-modal="true" role="dialog" class="moo-modifiersPanel" style="background-color: #ffffff">'}else{html+='<div tabindex="-1" aria-label="Choose options dialog" aria-modal="true" role="dialog" class="moo-modifiersPanel" >'}if(nb_modifiers>1){html+='<form action="" id="moo-modifiers-for-'+item_id+'">'+'<div class="moo-row" style="margin-bottom: 15px;">';html+='<div class="moo-col-md-6 moo-col-lg-6 moo-col-sm-12 moo-col-xs-12">';for(var i=0;i<Math.ceil(nb_modifiers/2);i++){var modifier_group=data[i];var modifierG_uuid=modifier_group.uuid;if(modifier_group.min_required!=null&&modifier_group.min_required>0)required_modifiers+=modifier_group.uuid+"-"+modifier_group.min_required+";";if(settings&&settings.minimized){html+='<div class="mooModifierGroup">'+'<button type="button" class="mooModifiers-title" role="button" tabindex="0" aria-controls="mooModifiers-wrapper-for-'+modifierG_uuid+'" aria-expanded="false" onclick="MooClickOnModifiersCollaps(this,\''+modifierG_uuid+"')\"><span>+</span>"+modifier_group.name;html+='<span class="mooModifiers-title-span" tabindex="0">';html+=mooBuildNbModifierSpan(modifier_group.min_required,modifier_group.max_allowd);html+="</span>";html+="</button>";html+='<div id="mooModifiers-wrapper-for-'+modifierG_uuid+'" class="mooModifiers-wrapper mooModifiers-wrapper-for-'+modifierG_uuid+'" style="display: none">'}else{html+='<div class="mooModifierGroup">'+'<button type="button" class="mooModifiers-title" role="button" tabindex="0" aria-controls="mooModifiers-wrapper-for-'+modifierG_uuid+'" aria-expanded="true" onclick="MooClickOnModifiersCollaps(this,\''+modifierG_uuid+"')\"><span>-</span>"+modifier_group.name;html+='<span class="mooModifiers-title-span" tabindex="0">';html+=mooBuildNbModifierSpan(modifier_group.min_required,modifier_group.max_allowd);html+="</span>";html+="</button>";html+='<div id="mooModifiers-wrapper-for-'+modifierG_uuid+'" class="mooModifiers-wrapper mooModifiers-wrapper-for-'+modifierG_uuid+'">'}for(var j=0;j<modifier_group.modifiers.length;j++){html+=mooBuildOneModifierLineHtml(modifier_group.modifiers[j],modifierG_uuid,modifier_group.min_required,modifier_group.max_allowd,settings)}html+="</div>";html+="</div>"}html+="</div>";html+='<div class="moo-col-md-6 moo-col-lg-6 moo-col-sm-12 moo-col-xs-12">';for(var i=Math.ceil(nb_modifiers/2);i<nb_modifiers;i++){var modifier_group=data[i];var modifierG_uuid=modifier_group.uuid;if(modifier_group.min_required!=null&&modifier_group.min_required>0)required_modifiers+=modifier_group.uuid+"-"+modifier_group.min_required+";";if(settings&&settings.minimized){html+='<div class="mooModifierGroup">'+'<button type="button" class="mooModifiers-title" aria-controls="mooModifiers-wrapper-for-'+modifierG_uuid+'" aria-expanded="false" onclick="MooClickOnModifiersCollaps(this,\''+modifierG_uuid+"')\"><span>+</span>"+modifier_group.name;html+='<span class="mooModifiers-title-span" tabindex="0" >';html+=mooBuildNbModifierSpan(modifier_group.min_required,modifier_group.max_allowd);html+="</span>";html+="</button>";html+='<div id="mooModifiers-wrapper-for-'+modifierG_uuid+'" class="mooModifiers-wrapper mooModifiers-wrapper-for-'+modifierG_uuid+'" style="display: none">'}else{html+='<div class="mooModifierGroup">'+'<button type="button" class="mooModifiers-title" aria-controls="mooModifiers-wrapper-for-'+modifierG_uuid+'" aria-expanded="true" onclick="MooClickOnModifiersCollaps(this,\''+modifierG_uuid+"')\"><span>-</span>"+modifier_group.name;html+='<span class="mooModifiers-title-span" tabindex="0" >';html+=mooBuildNbModifierSpan(modifier_group.min_required,modifier_group.max_allowd);html+="</span>";html+="</button>";html+='<div id="mooModifiers-wrapper-for-'+modifierG_uuid+'" class="mooModifiers-wrapper mooModifiers-wrapper-for-'+modifierG_uuid+'">'}for(var j=0;j<modifier_group.modifiers.length;j++){html+=mooBuildOneModifierLineHtml(modifier_group.modifiers[j],modifierG_uuid,modifier_group.min_required,modifier_group.max_allowd,settings)}html+="</div>";html+="</div>"}html+="</div>"}else{html+='<form action="" id="moo-modifiers-for-'+item_id+'">'+'<div class="moo-row" style="margin-bottom: 15px;">'+'<div class="moo-col-md-12 moo-col-sm-12 moo-col-xs-12">';for(var i=0;i<nb_modifiers;i++){var modifier_group=data[i];var modifierG_uuid=modifier_group.uuid;if(modifier_group.min_required!=null&&modifier_group.min_required>0)required_modifiers+=modifier_group.uuid+"-"+modifier_group.min_required+";";if(settings&&settings.minimized){html+='<div class="mooModifierGroup">'+'<button type="button" class="mooModifiers-title" aria-controls="mooModifiers-wrapper-for-'+modifierG_uuid+'" aria-expanded="false" onclick="MooClickOnModifiersCollaps(this,\''+modifierG_uuid+"')\"><span>+</span>"+modifier_group.name;html+='<span class="mooModifiers-title-span" tabindex="0">';html+=mooBuildNbModifierSpan(modifier_group.min_required,modifier_group.max_allowd);html+="</span>";html+="</button>";html+='<div id="mooModifiers-wrapper-for-'+modifierG_uuid+'" class="mooModifiers-wrapper mooModifiers-wrapper-for-'+modifierG_uuid+'" style="display: none">'}else{html+='<div class="mooModifierGroup">'+'<button type="button" class="mooModifiers-title" aria-controls="mooModifiers-wrapper-for-'+modifierG_uuid+'" aria-expanded="true" onclick="MooClickOnModifiersCollaps(this,\''+modifierG_uuid+"')\"><span>-</span>"+modifier_group.name;html+='<span class="mooModifiers-title-span" tabindex="0">';html+=mooBuildNbModifierSpan(modifier_group.min_required,modifier_group.max_allowd);html+="</span>";html+="</button>";html+='<div id="mooModifiers-wrapper-for-'+modifierG_uuid+'" class="mooModifiers-wrapper mooModifiers-wrapper-for-'+modifierG_uuid+'" >'}for(var j=0;j<modifier_group.modifiers.length;j++){html+=mooBuildOneModifierLineHtml(modifier_group.modifiers[j],modifierG_uuid,modifier_group.min_required,modifier_group.max_allowd,settings)}html+="</div>";html+="</div>"}html+="</div>"}html+="</div>";html+=`<button style="background-color: ${settings.primaryColor};color: ${settings.secondaryColor}" class="mooModifier-addToCartBtn2" onclick="mooClickOnAddToCartBtnFIWM(event,'${required_modifiers}','${item_id}','${qty}')">${mooObjectL10n.addToCart}</button>`;html+=`<button class="mooModifier-closeBtn" onclick="removeModifiersList(event,'${item_id}')">${mooObjectL10n.cancel}</button>`;html+="</form></div>";if(typeof settings.inlineDisplay==="undefined"||settings.inlineDisplay===false){window.mooPopUp.open(mooObjectL10n.chooseItemOptions,html);if(nb_modifiers===1){jQuery("#mooModal").addClass("sooOneModifierGroup")}if(isColor(settings.primaryColor)){jQuery("#mooModal > div.mooModalHeader").css("background-color",settings.primaryColor)}if(isColor(settings.secondaryColor)){jQuery("#mooModal > div.mooModalHeader").css("color",settings.secondaryColor)}}else{jQuery(".moo-modifiersContainer-for-"+item_id).html(html)}}function mooBuildOneModifierLineHtml(modifier,modifierG_uuid,min,max,settings){var modifier_price=parseFloat(modifier.price);modifier_price=modifier_price/100;var uuid=modifier.uuid;var html="";if(modifier.preSelected){html+=`<div id="sooModifierLine-${uuid}" data-group-min="${min}" data-group-max="${max}" data-group-uuid="${modifierG_uuid}" class="moo-row sooModifierLine mooModifier-checked">`+'<div class="sooModifierLineOverlayer" onclick="mooClickOnModifierLine(event,\''+uuid+"','"+min+"','"+max+"')\"></div>"+'<div class="moo-col-lg-1 moo-col-md-1 moo-col-sm-1 moo-col-xs-1">'+'<input role="checkbox" name="'+modifierG_uuid+'" value="'+uuid+'" class="mooModifierCheckbox" type="checkbox" onchange="mooChangeModifierLine(event,\''+uuid+"','"+min+"','"+max+"')\" checked>"+"</div>"}else{html+=`<div id="sooModifierLine-${uuid}" data-group-min="${min}" data-group-max="${max}" data-group-uuid="${modifierG_uuid}" class="moo-row sooModifierLine">`+'<div class="sooModifierLineOverlayer" onclick="mooClickOnModifierLine(event,\''+uuid+"','"+min+"','"+max+"')\"></div>"+'<div class="moo-col-lg-1 moo-col-md-1 moo-col-sm-1 moo-col-xs-1">'+'<input role="checkbox" name="'+modifierG_uuid+'" value="'+uuid+'" class="mooModifierCheckbox" type="checkbox" onchange="mooChangeModifierLine(event,\''+uuid+"','"+min+"','"+max+"')\">"+"</div>"}html+='<div class="moo-col-lg-4 moo-col-md-4 moo-col-sm-4 moo-col-xs-4 mooModifier-name"  tabindex="0">'+modifier.name+"</div>"+'<div class="moo-col-lg-2 moo-col-md-2 moo-col-sm-2 moo-col-xs-2 mooModifier-price" tabindex="0">'+(modifier_price>0?"$"+modifier_price.toFixed(2):"")+"</div>"+'<div class="moo-col-lg-4 moo-col-md-4 moo-col-sm-4 moo-col-xs-4">';if(settings.qtyForAll){if(modifier_price===0&&(typeof settings.qtyForZeroPrice!=="undefined"&&settings.qtyForZeroPrice===false)){html+=""}else{if(modifier.preSelected&&max!=="1"){html+='<div class="moo-input-group mooModifierLine-QtyContainer" style="display: block;">'}else{html+='<div class="moo-input-group mooModifierLine-QtyContainer" style="display: none;">'}html+='<span class="moo-input-group-btn">'+'<a class="moo-btn moo-btn-primary mooOpBtn" onclick="mooClickOnMooOpBtnMinus(\''+modifierG_uuid+"','"+uuid+"','"+max+"')\">-</a>"+"</span>"+"<input onchange=\"mooChangeModifierQty('"+modifierG_uuid+"','"+uuid+"','"+min+"','"+max+'\',)" tabindex="0" aria-label="The option quantity" class="mooInputQty moo-form-control" value="1" id="mooModifierInputQty-for-'+uuid+'">'+'<span class="input-group-btn">'+'<a class="moo-btn moo-btn-primary mooOpBtn" onclick="mooClickOnMooOpBtnPlus(\''+modifierG_uuid+"','"+uuid+"','"+max+"')\">+</a>"+"</span>"+"</div>"}}html+="</div></div>";return html}function mooBuildNbModifierSpan(min_required,max_allowd){var html="";if(min_required!==null){min_required=parseInt(min_required)}if(max_allowd!==null){max_allowd=parseInt(max_allowd)}if(min_required===1&&max_allowd===1){html+=mooObjectL10n.optionRequired}else{if(min_required!=null&&max_allowd!=null&&max_allowd===min_required){html+=" ("+mooObjectL10n.mustChoose+" "+min_required+" "+mooObjectL10n.options+")"}else{if(min_required!=null&&max_allowd!=null&&min_required>=1&&max_allowd>1){html+=" ("+mooObjectL10n.mustChooseBetween+" "+min_required+" & "+max_allowd+" "+mooObjectL10n.options+")"}else{if(min_required!=null&&min_required===1)html+=" ("+mooObjectL10n.mustChooseAtLeastOneOption+")";if(min_required!=null&&min_required>1)html+=" ("+mooObjectL10n.mustChooseAtLeast+" "+min_required+" "+mooObjectL10n.options+")";if(max_allowd!=null&&max_allowd>1)html+=" ("+mooObjectL10n.selectUpTo+" "+max_allowd+" "+mooObjectL10n.options+")";if(max_allowd!=null&&max_allowd===1)html+=" ("+mooObjectL10n.selectOneOption+")"}}}return html}function mooClickOnModifierLine(event,modifier_uuid,min,max){if(event){event.preventDefault()}min=parseInt(min);max=parseInt(max);const lineContainer=jQuery(event.target).parent();const groupContainer=lineContainer.parent();var checkbox=jQuery(".mooModifierCheckbox",lineContainer);var group=`input:checkbox[name="${checkbox.attr("name")}"]`;jQuery(".mooInputQty",lineContainer).val(1);if(max===1){if(!checkbox.prop("checked")){jQuery(group,groupContainer).prop("checked",false);jQuery(group,groupContainer).each(function(index,value){element=jQuery(value);element.parent().parent().removeClass("mooModifier-checked");jQuery(".moo-input-group",element.parent().parent()).hide()});checkbox.prop("checked",true);lineContainer.addClass("mooModifier-checked")}else{checkbox.prop("checked",false);lineContainer.removeClass("mooModifier-checked");jQuery(".moo-input-group",lineContainer).hide()}}else{if(max>1){var group='input:checkbox[name="'+checkbox.attr("name")+'"]:checked';var group_not_checked='input:checkbox[name="'+checkbox.attr("name")+'"]:not(:checked)';if(!checkbox.prop("checked")){checkbox.prop("checked",true);lineContainer.addClass("mooModifier-checked");jQuery(".moo-input-group",lineContainer).show()}else{checkbox.prop("checked",false);lineContainer.removeClass("mooModifier-checked");jQuery(".moo-input-group",lineContainer).hide()}var nb_checked_boxes=0;jQuery(group,groupContainer).each(function(index,element){var modifier_uuid=jQuery(element).val();var qty=parseInt(jQuery("#mooModifierInputQty-for-"+modifier_uuid).val());nb_checked_boxes+=qty>1?qty:1});if(nb_checked_boxes>=max){jQuery(group_not_checked,groupContainer).each(function(index,value){element=jQuery(value);element.parent().parent().addClass("mooModifier-disabled")})}else{jQuery(group_not_checked,groupContainer).each(function(index,value){element=jQuery(value);element.parent().parent().removeClass("mooModifier-disabled")})}}else{if(!checkbox.prop("checked")){checkbox.prop("checked",true);lineContainer.addClass("mooModifier-checked");jQuery(".moo-input-group",lineContainer).show()}else{checkbox.prop("checked",false);lineContainer.removeClass("mooModifier-checked");jQuery(".moo-input-group",lineContainer).hide()}}}}function mooChangeModifierLine(event,modifier_uuid,min,max){event.preventDefault();var checkbox=jQuery(event.target);jQuery(".mooInputQty",checkbox.parent().parent()).val(1);if(max==1){if(checkbox.prop("checked")){var group='input:checkbox[name="'+checkbox.attr("name")+'"]';jQuery(group).prop("checked",false);checkbox.prop("checked",true);jQuery(group).each(function(index,value){var element=jQuery(value);element.parent().parent().removeClass("mooModifier-checked");jQuery(".moo-input-group",element.parent().parent()).hide()});checkbox.parent().parent().addClass("mooModifier-checked")}else{checkbox.parent().parent().removeClass("mooModifier-checked");jQuery(".moo-input-group",checkbox.parent().parent()).hide()}}else{if(max>1){MooModifiersMax(checkbox.attr("name"),max,checkbox,jQuery(checkbox).parent().parent())}else{if(checkbox.prop("checked")){jQuery(event.target).parent().parent().addClass("mooModifier-checked");jQuery(".moo-input-group",jQuery(event.target).parent().parent()).show()}else{jQuery(event.target).parent().parent().removeClass("mooModifier-checked");jQuery(".moo-input-group",jQuery(event.target).parent().parent()).hide()}}}}function mooClickOnMooOpBtnPlus(modifier_group_uuid,modifier_uuid,max){var qty=jQuery("#mooModifierInputQty-for-"+modifier_uuid).val();var newQty=parseInt(qty);if(max!=null&&max>1){var group_checked='input:checkbox[name="'+modifier_group_uuid+'"]:checked';var nb_checked_boxes=0;jQuery(group_checked).each(function(index,element){var modifier_uuid=jQuery(element).val();var qty=parseInt(jQuery("#mooModifierInputQty-for-"+modifier_uuid).val());nb_checked_boxes+=qty>1?qty:1});if(max>nb_checked_boxes)newQty++;var checkboxContainer=jQuery("#mooModifierInputQty-for-"+modifier_uuid).parent().parent().parent();var checkbox=jQuery(".mooModifierCheckbox",checkboxContainer);jQuery("#mooModifierInputQty-for-"+modifier_uuid).val(newQty);MooModifiersMax(modifier_group_uuid,max,checkbox,checkboxContainer)}else{newQty+=1;jQuery("#mooModifierInputQty-for-"+modifier_uuid).val(newQty)}}function mooClickOnMooOpBtnMinus(modifier_group_uuid,modifier_uuid,max){var qty=jQuery("#mooModifierInputQty-for-"+modifier_uuid).val();var newQty=parseInt(qty)-1;if(newQty<1)jQuery("#mooModifierInputQty-for-"+modifier_uuid).val(1);else jQuery("#mooModifierInputQty-for-"+modifier_uuid).val(newQty);if(max!=null&&max>1){var checkboxContainer=jQuery("#mooModifierInputQty-for-"+modifier_uuid).parent().parent().parent();var checkbox=jQuery(".mooModifierCheckbox",checkboxContainer);MooModifiersMax(modifier_group_uuid,max,checkbox,checkboxContainer)}}function mooChangeModifierQty(modifier_group_uuid,modifier_uuid,min,max){var qty=jQuery("#mooModifierInputQty-for-"+modifier_uuid).val();var newQty=parseInt(qty);if(newQty&&newQty>0){if(max!=null&&max>1){var group_checked='input:checkbox[name="'+modifier_group_uuid+'"]:checked';var nb_checked_boxes=0;jQuery(group_checked).each(function(index,element){var modifier_uuid=jQuery(element).val();var qty=parseInt(jQuery("#mooModifierInputQty-for-"+modifier_uuid).val());nb_checked_boxes+=qty>1?qty:1});if(max<nb_checked_boxes){newQty=max-(nb_checked_boxes-newQty)}var checkboxContainer=jQuery("#mooModifierInputQty-for-"+modifier_uuid).parent().parent().parent();var checkbox=jQuery(".mooModifierCheckbox",checkboxContainer);jQuery("#mooModifierInputQty-for-"+modifier_uuid).val(newQty);MooModifiersMax(modifier_group_uuid,max,checkbox,checkboxContainer)}else{jQuery("#mooModifierInputQty-for-"+modifier_uuid).val(newQty)}}else{jQuery("#mooModifierInputQty-for-"+modifier_uuid).val(1)}}function MooModifiersMax(modifier_group_uuid,max,checkbox,elm){var group_checked='input:checkbox[name="'+modifier_group_uuid+'"]:checked';var group_not_checked='input:checkbox[name="'+modifier_group_uuid+'"]:not(:checked)';var nb_checked_boxes=0;jQuery(group_checked).each(function(index,element){var modifier_uuid=jQuery(element).val();var qty=parseInt(jQuery("#mooModifierInputQty-for-"+modifier_uuid).val());nb_checked_boxes+=qty>1?qty:1});if(nb_checked_boxes>=max){jQuery(group_not_checked).each(function(index,value){var element=jQuery(value);element.parent().parent().addClass("mooModifier-disabled")})}else{jQuery(group_not_checked).each(function(index,value){var element=jQuery(value);element.parent().parent().removeClass("mooModifier-disabled")})}if(checkbox.prop("checked")){elm.addClass("mooModifier-checked");jQuery(".moo-input-group",elm).show()}else{elm.removeClass("mooModifier-checked");jQuery(".moo-input-group",elm).hide()}}function MooClickOnModifiersCollaps(target,uuid){var wrapper=jQuery(".mooModifiers-wrapper-for-"+uuid);if(wrapper.is(":visible")){wrapper.slideUp();jQuery("span:first-child",jQuery(target)).text("+")}else{wrapper.slideDown();jQuery("span:first-child",jQuery(target)).text("-")}}function mooClickOnAddToCartBtnFIWM(event,requierd_modifiers,item_uuid,qty){event.preventDefault();var form=jQuery("#moo-modifiers-for-"+item_uuid).serializeArray();var r_modifiers=[];var selected_modifiers={};let groups=[];var item_qty=parseInt(qty);requierd_modifiers=requierd_modifiers.split(";");requierd_modifiers.forEach(function(element){var t=element.split("-");if(t.length===2){r_modifiers.push({uuid:t[0],min:parseInt(t[1])})}});form.forEach(function(element){var modifier={uuid:element.value,qty:parseInt(jQuery("#mooModifierInputQty-for-"+element.value).val()),group:jQuery("#sooModifierLine-"+element.value).data("groupUuid")};if(isNaN(modifier.qty)||modifier.qty<1){modifier.qty=1}if(selected_modifiers[element.name]==null){selected_modifiers[element.name]=[modifier]}else{selected_modifiers[element.name].push(modifier)}if(groups[modifier.group]==null){groups[modifier.group]={uuid:modifier.group,modifiers:[modifier],min:jQuery("#sooModifierLine-"+modifier.uuid).data("groupMin"),max:jQuery("#sooModifierLine-"+modifier.uuid).data("groupMax")}}else{groups[modifier.group].modifiers.push(modifier)}});if(r_modifiers.length>0){for(let index in r_modifiers){let modifierGroup=r_modifiers[index];let nb_checked_boxes=0;jQuery(selected_modifiers[modifierGroup.uuid]).each(function(index,element){nb_checked_boxes+=element.qty>1?element.qty:1});if(typeof selected_modifiers[modifierGroup.uuid]=="undefined"||selected_modifiers[modifierGroup.uuid]==null||nb_checked_boxes<modifierGroup.min){showAlertMessage("error",mooObjectL10n.youDidNotSelectedRequiredOptions,mooObjectL10n.checkAgain);keepOnlyOneModifierGroup(modifierGroup.uuid);return false}}}let count=Object.keys(groups).length;if(count>0){for(let i in groups){let group=groups[i];let selectedModifiers=0;let maxAllowed=parseInt(group.max);let minRequired=parseInt(group.min);for(let j in group.modifiers){selectedModifiers+=group.modifiers[j].qty}if(maxAllowed>0&&selectedModifiers>maxAllowed){showAlertMessage("error",mooObjectL10n.selectUpTo+" "+maxAllowed+" options",mooObjectL10n.checkAgain);keepOnlyOneModifierGroup(group.uuid);return false}if(minRequired>0&&selectedModifiers<minRequired){showAlertMessage("error",mooObjectL10n.youDidNotSelectedRequiredOptions,mooObjectL10n.checkAgain);keepOnlyOneModifierGroup(group.uuid);return false}if(!--count){addToCartAnItemWithModifiers(selected_modifiers,item_uuid,item_qty)}}}else{addToCartAnItemWithModifiers(selected_modifiers,item_uuid,item_qty)}}function keepOnlyOneModifierGroup(uuid){var element=jQuery(".mooModifiers-wrapper-for-"+uuid).parent();jQuery(".mooModifiers-title",element).css("color","red");jQuery(".mooModifiers-title").attr("aria-expanded","false");var wrappers=jQuery("div[class*='mooModifiers-wrapper-for-']");wrappers.each(function(i,wrapper){jQuery(wrapper).slideUp();jQuery(".mooModifiers-title>span:first-child",jQuery(wrapper).parent()).text("+")});var wrapper=jQuery(".mooModifiers-wrapper-for-"+uuid);wrapper.slideDown();jQuery(".mooModifiers-title>span:first-child",wrapper.parent()).text("-");jQuery(".mooModifiers-title",element).attr("aria-expanded","false")}function addToCartAnItemWithModifiers(selected_modifiers,item_uuid,item_qty){var count=Object.keys(selected_modifiers).length;showLoadingMessage();var final_modifiers=[];if(count>0){for(var modifierGroup in selected_modifiers){jQuery(selected_modifiers[modifierGroup]).each(function(i,val){final_modifiers.push(val)});if(!--count){var body={item_uuid:item_uuid,item_qty:item_qty,item_modifiers:final_modifiers};jQuery.post(moo_RestUrl+"moo-clover/v1/cart",body,function(data){if(data!=null){if(data.status==="error"){showAlertMessage("error",data.message,"")}else{if(typeof mooUpdateCart==="function"){mooUpdateCart()}if(typeof mooShowAddingItemResult==="function"){setTimeout(function(){mooShowAddingItemResult(data)},500)}else{const title=data.name!=null?data.name:mooObjectL10n.item;showAlertMessage("success",title,mooObjectL10n.addToCart)}if(window.mooPopUp){window.mooPopUp.close()}}}else{showAlertMessage("error",mooObjectL10n.notAddedToCart,"")}}).fail(function(data){showAlertMessage("error",mooObjectL10n.notAddedToCart,mooObjectL10n.verifyConnection)}).done(function(data){if(typeof data.nb_items!="undefined"&&typeof jQuery("#moo-cartNbItems")!="undefined")jQuery("#moo-cartNbItems").text(data.nb_items)})}}}else{var body={item_uuid:item_uuid,item_qty:item_qty,item_modifiers:{}};jQuery.post(moo_RestUrl+"moo-clover/v1/cart",body,function(data){if(data!=null){if(typeof mooUpdateCart==="function"){mooUpdateCart()}if(typeof mooShowAddingItemResult==="function"){setTimeout(function(){mooShowAddingItemResult(data)},2e3)}else{const title=data.name!=null?data.name:mooObjectL10n.item;showAlertMessage("success",title,mooObjectL10n.addedToCart)}if(window.mooPopUp){window.mooPopUp.close()}}else{showAlertMessage("error",mooObjectL10n.notAddedToCart,"")}}).fail(function(data){showAlertMessage("error",mooObjectL10n.notAddedToCart,mooObjectL10n.verifyConnection)}).done(function(data){if(typeof data.nb_items!="undefined"&&typeof jQuery("#moo-cartNbItems")!="undefined")jQuery("#moo-cartNbItems").text(data.nb_items)})}}function removeModifiersList(e,item_id){e.preventDefault();e.stopPropagation();if(window.mooPopUp){window.mooPopUp.close()}if(typeof jQuery(".moo-modifiersContainer-for-"+item_id)==="undefined")return false;jQuery(".moo-modifiersContainer-for-"+item_id).html("")}function showAlertMessage(type,title,message=null){swal.fire({title:title,text:message,type:type,icon:type})}function showLoadingMessage(){if(true){swal.fire({html:'<div class="moo-msgPopup">'+mooObjectL10n.addingTheItems+"</div>"+'<img src="'+moo_params["plugin_img"]+'/loading.gif" class="moo-imgPopup"/>',showConfirmButton:false})}else{Swal.showLoading()}}function isColor(strColor){var s=(new Option).style;s.color=strColor;return s.color.length>0}